/* RESET */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

/* ROOT VARIABLES */
:root{
    --primary:#800000;
    --primary-dark:#6a0000;
    --primary-light:#a00000;
    --secondary:#007bff;
    --accent:#4CAF50;
    
    --bg:#f0f2f5;
    --card-bg:#fff;
    --text:#1c2e4a;
    --muted:#6c757d;
    
    --radius-xl:24px;
    --radius-lg:20px;
    --radius-md:16px;
    --radius-sm:12px;
    
    --shadow-sm:0 4px 12px rgba(0,0,0,.08);
    --shadow-md:0 12px 36px rgba(0,0,0,.15);
    --shadow-route-hover:0 8px 20px rgba(128,0,0,.25); 
    
    --transition:.3s cubic-bezier(.25,.46,.45,.94);
    --image-width: 130px; /* Rasm uchun yangi kenglik */
}

/* BASE */
html,body{
    height:100%;
    font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
    background:var(--bg);
    color:var(--text);
    -webkit-tap-highlight-color:transparent;
    line-height:1.6;
}
.hidden{display:none!important}

/* HEADER */
.header{
    position:fixed;
    top:0;left:0;right:0;
    height:70px;
    background:var(--primary);
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 6px 20px rgba(0,0,0,.15);
    z-index:1000;
}
.logo{
    display:flex;
    align-items:center;
    gap:14px;
    font-size:26px;
    font-weight:900;
    letter-spacing:-0.5px;
}
.logo img{
    width:46px;
    height:46px;
    border-radius:12px;
    object-fit:cover;
    box-shadow:0 2px 8px rgba(0,0,0,.2);
}

/* MAIN */
.main{
    padding:88px 16px 140px;
    max-width:900px;
    margin:0 auto;
}

/* FILTER TOGGLE */
.filter-toggle{
    width:100%;
    padding:16px;
    background:var(--card-bg);
    border:none;
    border-radius:var(--radius-md);
    margin-bottom:20px;
    box-shadow:var(--shadow-sm);
    font-size:17px;
    font-weight:700;
    color:var(--primary);
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    cursor:pointer;
    transition:var(--transition);
}
.filter-toggle:hover{box-shadow:0 6px 18px rgba(128,0,0,.15);}
.filter-toggle:active{transform:scale(.98);}
.filter-toggle svg{width:24px;height:24px;fill:currentColor;transition:transform var(--transition);}
.filter-toggle.show svg{transform:rotate(180deg);}

/* SEARCH CARD */
.search-card{
    background:var(--card-bg);
    border-radius:var(--radius-xl);
    padding:24px;
    box-shadow:var(--shadow-md);
    overflow:hidden;
    max-height:0;
    opacity:0;
    transform:translateY(-20px);
    pointer-events:none;
    transition:max-height .4s ease-in-out,opacity .4s ease,transform .4s ease;
}
.search-card.show{
    max-height:600px;
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
}

/* FORM */
.row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:16px;
    margin-bottom:20px;
}
@media(max-width:480px){.row{grid-template-columns:1fr}}
select,input{
    width:100%;
    padding:15px 18px;
    border:1px solid #e5e7eb;
    border-radius:var(--radius-sm);
    font-size:16px;
    background:#f9fafb;
    color:var(--text);
    transition:var(--transition);
    box-shadow:inset 0 1px 3px rgba(0,0,0,.05);
}
select:focus,input:focus{
    outline:none;
    border-color:var(--primary);
    background:var(--card-bg);
    box-shadow:0 0 0 4px rgba(128,0,0,.1);
}

/* SEARCH BUTTON */
#searchBtn{
    width:100%;
    padding:16px;
    background:var(--primary);
    color:#fff;
    border:none;
    border-radius:var(--radius-sm);
    font-size:18px;
    font-weight:800;
    cursor:pointer;
    box-shadow:0 16px 36px rgba(128,0,0,.35);
    transition:var(--transition);
    letter-spacing:1px;
}
#searchBtn:hover{background:var(--primary-light);box-shadow:0 12px 30px rgba(128,0,0,.25);}
#searchBtn:active{transform:scale(.97);background:var(--primary-dark);}

/* ROUTES LIST */
.routes-list{
    display:grid;
    gap:16px;
    margin-top:24px;
}

/* ROUTE CARD (SEARCH) - Professional dizayn */
.route-card-search {
    background: var(--card-bg);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    display: flex;
    padding: 0;
    overflow: hidden;
    height: 140px; /* Balandlik biroz oshirildi */
}

.route-card-search:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-route-hover);
    border-color: var(--primary);
}
.route-card-search:active {
    transform: scale(0.99);
}

/* Rasm maydoni (Chap tomon) */
.route-image-container {
    flex-shrink: 0;
    width: var(--image-width);
    height: 100%;
    overflow: hidden;
    position: relative;
    border-right: 2px solid var(--primary); /* Rasm va kontent orasidagi chiziq */
}
.route-image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform var(--transition);
}
.route-card-search:hover .route-image-container img {
    transform: scale(1.05);
    opacity: 0.9;
}

/* Kontent maydoni (O'rta qism) */
.route-card-content {
    flex: 1;
    padding: 20px 18px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    overflow: hidden;
}

.route-direction {
    display: flex;
    align-items: center;
    font-size: 19px;
    font-weight: 800;
    color: var(--text);
    line-height: 1.2;
    margin-bottom: 5px;
    position: relative;
}

.route-direction .arrow {
    width: 20px;
    height: 20px;
    fill: var(--primary);
    margin: 0 10px;
    flex-shrink: 0;
    transform: translateY(2px);
}

.route-from, .route-to {
    display: block;
    max-width: 40%;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    font-size: 20px; /* Kattaroq yozuv */
    font-weight: 900;
    letter-spacing: -0.5px;
    color: var(--primary-dark);
}
.route-from {
    color: var(--text);
}


/* Narx tegi (O'ng burchak) */
.route-price-tag {
    position: absolute;
    top: 0; /* Yuqoriga ko'chirildi */
    right: 0;
    padding: 12px 18px;
    background: var(--primary);
    color: #fff;
    font-size: 20px;
    font-weight: 900;
    border-bottom-left-radius: var(--radius-lg);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    letter-spacing: -0.5px;
    transition: var(--transition);
    z-index: 10;
}
.route-card-search:hover .route-price-tag {
    background: var(--primary-dark);
    transform: translateY(-2px);
}

/* EMPTY STATE */
.empty-state{
    text-align:center;
    padding:60px 20px;
    color:var(--muted);
    font-size:17px;
    background:var(--card-bg);
    border-radius:var(--radius-lg);
    margin-top:20px;
    box-shadow:var(--shadow-sm);
    transition:var(--transition);
}
.loading {
    text-align:center;
    padding:40px;
    color:var(--muted);
    font-size:18px;
}

/* BANNERS */
.banner-slider {
    position: relative;
    width: 100%;
    height: 170px; 
    overflow: hidden;
    border-radius: var(--radius-lg);
    margin: 16px 0;
    background: #f4f4f4;
    box-shadow: var(--shadow-md);
}

.banner-track {
    display: flex;
    height: 100%;
    transition: transform .6s ease;
}

.banner-slide {
    min-width: 100%;
    height: 100%;
    cursor: pointer;
}

.banner-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.banner-dots {
    position: absolute;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
}

.banner-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255,255,255,.6);
    transition: .3s;
}

.banner-dot.active {
    background: #fff;
    transform: scale(1.3);
}

/* BOTTOM NAV */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 84px;
    background: var(--card-bg); 
    display: flex;
    justify-content: space-around;
    align-items: center;
    box-shadow: 0 -6px 25px rgba(0, 0, 0, 0.1);
    border-top-left-radius: 28px;
    border-top-right-radius: 28px;
    z-index: 1000;
    padding-bottom: env(safe-area-inset-bottom);
    backdrop-filter: blur(12px);
}

.nav-item {
    background: none;
    border: none;
    width: 80px;
    height: 74px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    color: var(--muted);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.nav-item svg {
    width: 28px;
    height: 28px;
    fill: currentColor;
}

.nav-item.active {
    color: var(--primary);
    background: rgba(128, 0, 0, 0.08);
    border-radius: 24px;
}

.nav-item.active svg {
    fill: var(--primary);
}
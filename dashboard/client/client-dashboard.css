/* RESET */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

/* ROOT VARIABLES */
:root{
    --primary:#800000;
    --primary-dark:#6a0000;
    --primary-light:#a00000;
    --secondary:#007bff;
    --accent:#4CAF50;
    
    --bg:#f0f2f5;
    --card-bg:#fff;
    --text:#1c2e4a;
    --muted:#6c757d;
    
    --radius-xl:24px;
    --radius-lg:20px;
    --radius-md:16px;
    --radius-sm:12px;
    
    --shadow-sm:0 4px 12px rgba(0,0,0,.08);
    --shadow-md:0 12px 36px rgba(0,0,0,.15);
    --shadow-route-hover:0 18px 40px rgba(128,0,0,.25);
    
    --transition:.3s cubic-bezier(.25,.46,.45,.94);
}

/* BASE */
html,body{
    height:100%;
    font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
    background:var(--bg);
    color:var(--text);
    -webkit-tap-highlight-color:transparent;
    line-height:1.6;
}
.hidden{display:none!important}

/* HEADER */
.header{
    position:fixed;
    top:0;left:0;right:0;
    height:70px;
    background:var(--primary);
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 6px 20px rgba(0,0,0,.15);
    z-index:1000;
}
.logo{
    display:flex;
    align-items:center;
    gap:14px;
    font-size:26px;
    font-weight:900;
    letter-spacing:-0.5px;
}
.logo img{
    width:46px;
    height:46px;
    border-radius:12px;
    object-fit:cover;
    box-shadow:0 2px 8px rgba(0,0,0,.2);
}

/* MAIN */
.main{
    padding:88px 16px 140px;
    max-width:900px;
    margin:0 auto;
}

/* FILTER TOGGLE */
.filter-toggle{
    width:100%;
    padding:16px;
    background:var(--card-bg);
    border:none;
    border-radius:var(--radius-md);
    margin-bottom:20px;
    box-shadow:var(--shadow-sm);
    font-size:17px;
    font-weight:700;
    color:var(--primary);
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    cursor:pointer;
    transition:var(--transition);
}
.filter-toggle:hover{box-shadow:0 6px 18px rgba(128,0,0,.15);}
.filter-toggle:active{transform:scale(.98);}
.filter-toggle svg{width:24px;height:24px;fill:currentColor;transition:transform var(--transition);}
.filter-toggle.show svg{transform:rotate(180deg);}

/* SEARCH CARD */
.search-card{
    background:var(--card-bg);
    border-radius:var(--radius-xl);
    padding:24px;
    box-shadow:var(--shadow-md);
    overflow:hidden;
    max-height:0;
    opacity:0;
    transform:translateY(-20px);
    pointer-events:none;
    transition:max-height .4s ease-in-out,opacity .4s ease,transform .4s ease;
}
.search-card.show{
    max-height:600px;
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
}

/* FORM */
.row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:16px;
    margin-bottom:20px;
}
@media(max-width:480px){.row{grid-template-columns:1fr}}
select,input{
    width:100%;
    padding:15px 18px;
    border:1px solid #e5e7eb;
    border-radius:var(--radius-sm);
    font-size:16px;
    background:#f9fafb;
    color:var(--text);
    transition:var(--transition);
    box-shadow:inset 0 1px 3px rgba(0,0,0,.05);
}
select:focus,input:focus{
    outline:none;
    border-color:var(--primary);
    background:var(--card-bg);
    box-shadow:0 0 0 4px rgba(128,0,0,.1);
}

/* SEARCH BUTTON */
#searchBtn{
    width:100%;
    padding:16px;
    background:var(--primary);
    color:#fff;
    border:none;
    border-radius:var(--radius-sm);
    font-size:18px;
    font-weight:800;
    cursor:pointer;
    box-shadow:0 16px 36px rgba(128,0,0,.35);
    transition:var(--transition);
    letter-spacing:1px;
}
#searchBtn:hover{background:var(--primary-light);box-shadow:0 12px 30px rgba(128,0,0,.25);}
#searchBtn:active{transform:scale(.97);background:var(--primary-dark);}

/* ROUTES GRID */
.routes{display:grid;gap:24px;}

/* ROUTE CARD */
.route{
    background:var(--card-bg);
    border-radius:var(--radius-xl);
    overflow:hidden;
    box-shadow:var(--shadow-md);
    cursor:pointer;
    transition:var(--transition);
    position:relative;
}
.route:hover{
    transform:translateY(-6px);
    box-shadow:var(--shadow-route-hover);
}
.route:active{
    transform:scale(.99);
    box-shadow:var(--shadow-md);
}

/* ROUTE HEADER */
.route-header{
    background:linear-gradient(135deg, var(--primary), var(--primary-dark));
    color:#fff;
    padding:20px 16px 30px;
    text-align:center;
    clip-path:polygon(0 0,100% 0,100% 80%,50% 100%,0 80%);
    transition:var(--transition);
}
.route-header h3{
    font-size:22px;
    font-weight:900;
    letter-spacing:-0.5px;
}
.route-header p{
    font-size:15px;
    opacity:.95;
    margin-top:6px;
    font-weight:500;
}

/* ROUTE BODY */
.route-body{
    padding:20px;
}
.route-details{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
    position:relative;
}
.route-details::before{
    content:'';
    position:absolute;
    left:50%;
    top:0;
    bottom:0;
    width:2px;
    background:linear-gradient(to bottom,var(--primary) 0%,var(--primary) 50%,transparent 50%,transparent 100%);
    background-size:100% 16px;
    transform:translateX(-50%);
}
.route-details > div{
    text-align:center;
    position:relative;
    padding:0 10px;
}
.route-details > div::before{
    content:'';
    position:absolute;
    top:-4px;
    width:12px;
    height:12px;
    border-radius:50%;
    background:var(--primary);
    border:3px solid var(--card-bg);
    z-index:1;
}
.route-details .end::before{background:var(--secondary);}

.route-details h4{font-size:16px;font-weight:700;color:var(--text);}
.route-details small{display:block;color:var(--muted);font-size:13px;margin-top:4px;}

.duration{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:var(--primary);
    color:#fff;
    padding:4px 12px;
    border-radius:var(--radius-sm);
    font-size:13px;
    font-weight:600;
    box-shadow:0 4px 10px rgba(0,0,0,.2);
    z-index:2;
}

/* PRICE & SEATS */
.route-footer{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding-top:16px;
    border-top:1px dashed #e0e0e0;
}
.price{
    font-size:24px;
    font-weight:900;
    color:var(--primary);
    display:flex;
    align-items:baseline;
}
.price span{
    font-size:16px;
    font-weight:600;
    margin-right:2px;
    color:var(--muted);
}
.seats{
    padding:8px 18px;
    background:var(--accent);
    color:#fff;
    border-radius:999px;
    font-weight:800;
    font-size:14px;
    letter-spacing:0.5px;
    box-shadow:0 4px 10px rgba(76,175,80,.3);
}

/* EMPTY STATE */
.empty{
    text-align:center;
    padding:60px 20px;
    color:var(--muted);
    font-size:17px;
    background:var(--card-bg);
    border-radius:var(--radius-lg);
    margin-top:20px;
    box-shadow:var(--shadow-sm);
    transition:var(--transition);
}

/* BANNERS */
.banners{
    display:grid;
    gap:16px;
    margin:32px 0;
}
.banners img{
    width:100%;
    height:180px;
    object-fit:cover;
    border-radius:var(--radius-lg);
    box-shadow:var(--shadow-md);
}

/* BOTTOM NAV */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 84px;
    background: var(--surface);
    display: flex;
    justify-content: space-around;
    align-items: center;
    box-shadow: 0 -6px 25px rgba(0, 0, 0, 0.1);
    border-top-left-radius: 28px;
    border-top-right-radius: 28px;
    z-index: 1000;
    padding-bottom: env(safe-area-inset-bottom);
    backdrop-filter: blur(12px);
}

.nav-item {
    background: none;
    border: none;
    width: 80px;
    height: 74px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    color: var(--text-muted);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.nav-item svg {
    width: 28px;
    height: 28px;
    fill: currentColor;
}

.nav-item.active {
    color: var(--primary);
    background: rgba(128, 0, 0, 0.08);
    border-radius: 24px;
}

.nav-item.active svg {
    fill: var(--primary);
}